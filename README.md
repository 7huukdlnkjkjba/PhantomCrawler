# PhantomCrawler 🚀

## 🔥 七宗欲爬虫武器 | 让反爬系统彻底失效的利器 🔥

🎉 **新手狂喜！** PhantomCrawler 不是普通爬虫框架！它是**爬虫界的人民未来**，世界首款自主研发内置「七宗欲引擎系统」的数据采集黑科技，就算是爬虫小白也能轻松上手，让你在数据采集的战场上一打五！

💡 **一句话总结：** 当普通爬虫被网站反爬系统按在地上摩擦时，PhantomCrawler 已经偷偷翻墙溜进去把数据搞到手了！

## 🌟 七宗欲介绍 | 爬虫界的「欲望」系统 🌟

📱 **想象一下：** 你的爬虫就像会72变的孙悟空！七宗欲引擎就是这个「变形系统」，让爬虫根据不同网站的防御等级，自动切换7种完全不同的「伪装身份」！

### 🎭 7种欲望模式 = 7种爬取身份

- **😎 傲慢模式**: 爬虫界的「自信大师」！适用于防护超弱的网站，快速高效搞数据，就像在自己家里拿东西一样轻松！
- **👀 嫉妒模式**: 爬虫界的「模仿大师」！像变色龙一样完美复制真人行为，连验证码都能轻松搞定！
- **⚡ 愤怒模式**: 爬虫界的「闪电侠」！短时间内疯狂爬取，IP和指纹换得比翻书还快，适合急需数据的紧急任务！
- **😴 懒惰模式**: 爬虫界的「慢性子」！爬得超慢但超安全，就像老人逛公园一样悠闲，适合超级敏感的网站！
- **🤔 贪婪模式**: 爬虫界的「平衡大师」！效率和安全完美兼顾，大多数网站都能用，新手直接选这个准没错！
- **🍽️ 暴食模式**: 爬虫界的「大胃王」！批量爬取的神器，一次能吃下一整个网站的数据！
- **💎 色欲模式**: 爬虫界的「伪装之王」！终极隐藏模式，就算是银行级别的防护网站也能悄悄溜进去！

🤖 **神奇的是：** 这个引擎会**自动学习**！如果发现网站开始怀疑你，它会立刻切换身份，就像间谍发现自己被跟踪时迅速换装一样！

🚨 **普通爬虫遇到反爬系统：** ❌ 被封锁，任务失败！
🚀 **PhantomCrawler遇到反爬系统：** ✅ 自动变装，继续爬取！

---

## 💯 为什么选择 PhantomCrawler？ | 新手也能变爬虫大师！ 💯

💰 **数据就是黄金！** 但现在网站的反爬系统就像超级防盗门，普通爬虫根本进不去！

🎯 **PhantomCrawler = 爬虫界的「万能钥匙」+「隐形衣」** 让你轻松突破所有防线！

### 🚀 超能力清单（就算是电脑小白也能看懂！）

- **🧠 会思考的爬虫**：就像养了个AI助手！它会自己总结经验，越爬越聪明，失败一次就学会新技能！
- **👤 完美伪装成人类**：不只是换个衣服（User-Agent），连鼠标怎么动、页面怎么滚、在哪里停顿都和真人一模一样！
- **🤖 智能变形金刚**：网站严了就变「低调模式」，松了就变「高速模式」，比老司机还会看路况！
- **👀 反爬雷达**：能提前发现网站的反爬系统在看自己，还没被发现就先换身份了！
- **🏋️ 超级稳定**：爬一天一夜都不会崩溃，就像老黄牛一样可靠！
- **⚖️ 合法合规**：提供各种开关，让你既能搞到数据，又不会踩法律红线！
- **🆓 完全免费**：不用花一分钱！普通笔记本就能跑，连买奶茶的钱都省了！

🎁 **新手福利：** 就算你只会复制粘贴，也能在5分钟内搭好环境开始爬取！

## 🔮 核心技术亮点 | 爬虫界的黑科技武器库！ 🔮

### 🎭 浏览器指纹伪装术 - 就像换脸术一样神奇！
* **😮 完美复制浏览器**：不只是换个名字，连浏览器的「DNA」都能完美复制！让网站以为你就是Chrome、Firefox本人！
* **🔐 加密握手模仿**：连网络握手的方式都和真浏览器一毛一样，反爬系统根本看不出来！
* **🔄 自动换身份**：被怀疑了？没关系！立刻换个全新的身份，就像特工一样神出鬼没！

### 🤖 人类行为模仿大师 - 比你妈还像真人！
* **🖱️ 自然鼠标移动**：鼠标动得就像真人在操作，有加速、有减速、还有偶尔的小抖动！
* **📜 真实阅读习惯**：看长文章会慢慢滚动，看图片会多停留几秒，就像你自己在浏览一样！
* **🎲 随机小习惯**：偶尔还会「发呆」、「分心」，就像人类浏览时会开小差一样！

### 🌐 网络层魔法 - 让你的请求「隐形」！
* **🧪 代理大师**：自动管理各种代理，就像有无数个分身帮你做事！
* **⏱️ 请求节奏控制**：不会像机器一样死板地发请求，而是像人类一样有快有慢！
* **⚙️ 底层参数微调**：连网络协议的细节都调整到和真人一样，反爬系统彻底懵圈！

### 🧠 智能浏览路径 - 像老司机一样懂套路！
* **🔍 理解网页上下文**：知道先访问首页再点详情，就像真实用户的浏览习惯！
* **📊 完整资源加载**：不只是爬文字，连CSS、图片都一起加载，看起来就像真的在看网页！
* **🍪 会话管理大师**：完美维护登录状态和Cookie，不会出现低级错误！

### 🚀 自我进化系统 - 会学习的爬虫才是我的日常！
* **👁️ 自我监控**：时刻关注自己的行为，知道什么时候做得好什么时候做得差！
* **🔄 自动适应**：发现网站防爬变严了，立刻调整策略，比变形金刚还灵活！
* **📈 越爬越聪明**：失败一次就记住教训，下次遇到同样的网站直接用最佳策略！
* **💪 自动逃生**：被发现了？立刻启动备用方案，换IP、换指纹、换路径，总有办法绕过去！

## 🏗️ 架构设计与性能 | 像跑车一样快，像坦克一样稳！ 🏗️

🚗 **PhantomCrawler就像一辆超级跑车**：引擎强劲，操控灵活，还特别省油！

### 🚀 超级架构亮点（小白也能懂！）

* **🔧 双引擎设计**：就像有两个发动机！简单网页用「省油模式」，复杂网页用「强力模式」，自动切换超智能！
* **⚡ 多任务并行**：一次能同时爬多个网页，就像有多个分身同时工作，但又不会被发现！
* **💾 超级省内存**：就算爬一天一夜也不会「卡死」，就像手机里的优化大师！
* **📊 全程监控**：爬得怎么样？哪里卡住了？一目了然！就像开了GPS导航一样清楚！
* **💻 超低配置要求**：普通笔记本就能跑，甚至旧电脑都行！不需要花冤枉钱买服务器！
* **🧠 智能调节**：电脑性能不够？自动降低速度；性能好？自动加速！超贴心！
* **🏰 三层防护大脑**：就像有感知层、决策层、执行层三个部门协同工作，比人类团队还高效！

💰 **省钱小技巧**：用旧电脑跑爬虫，电费都省！还能边爬数据边看电影，两不耽误！

## 🚀 快速上手 | 5分钟从0到1，小白也能立即开始！ 🚀

### 🎮 新手友好的基本爬取示例
```python
# 复制这段代码，粘贴到你的Python文件里就能用！
from src.core.crawler import PhantomCrawler

# ✨ 创建你的爬虫超级英雄
crawler = PhantomCrawler()

# 🚀 启动爬虫引擎
if crawler.initialize():
    # 🎯 爬取单个网站（把网址换成你想要的！）
    result = crawler.crawl("https://target-website.com")
    print(f"✅ 爬取成功！状态码: {result['status_code']}")
    
    # 📊 批量爬取多个网站
    urls = ["https://page1.com", "https://page2.com"]
    batch_results = crawler.crawl_batch(urls, max_concurrent=2)
    print(f"✅ 批量爬取完成！成功爬了 {len(batch_results)} 个页面！")
    
    # 🛑 任务完成，关闭爬虫（记得这一步哦！）
    crawler.close()
```

### 🔧 高级配置（想要更厉害？看这里！）
```python
# 导入配置大师
from src.config import global_config

# 🎭 开启超级隐匿模式（必开！）
global_config.set('fingerprint.enable_dynamic_ua', True)     # 自动换浏览器标识
global_config.set('fingerprint.enable_ja3_simulation', True) # 模仿真实浏览器加密行为

# 🤖 让爬虫更像人类（强烈推荐！）
global_config.set('behavior_simulation.enable_human_delay', True)  # 人类般的延迟
global_config.set('behavior_simulation.use_gamma_distribution', True)  # 更自然的时间分布

# ⏱️ 设置延迟参数（数值越大越慢但越安全）
global_config.set('behavior_simulation.delay_min', 1.2)  # 最小延迟1.2秒
global_config.set('behavior_simulation.delay_max', 4.5)  # 最大延迟4.5秒

# 🧠 开启AI学习模式（超级智能！）
global_config.set('metacognition.enabled', True)              # 开启自我学习
global_config.set('metacognition.memory_size', 1000)          # 记忆容量

# 📡 添加代理（换IP神器！）
proxies = [
    {'type': 'http', 'host': 'proxy1.example.com', 'port': 8080},
    {'type': 'socks5', 'host': 'proxy2.example.com', 'port': 1080}
]
global_config.set('proxy_chain', proxies)

# 💡 新手提示：如果搞不懂这些配置，就复制上面的代码，大部分情况下都能用！
```

### 🎯 新手必看的成功秘诀
1. **先爬简单网站**：刚开始先爬没有反爬的网站练手
2. **开足马力**：记得启用元认知系统和隐匿模式
3. **不要贪心**：刚开始爬慢点，等爬虫学会了再加速
4. **看日志**：遇到问题时，看看输出的日志信息

✨ **5分钟启动挑战**：复制代码 → 安装依赖 → 运行 → 成功！

## 🎯 实际应用场景 | 有了它，这些任务都变简单了！ 🎯

💼 **PhantomCrawler就像你的全能数据助手**，让你轻松获取各种宝藏数据！

### 💰 赚钱场景大揭秘！

- **🛒 电商数据采集**：想要知道竞争对手的价格？想监控商品库存？PhantomCrawler能轻松绕过淘宝、京东、拼多多的反爬系统，帮你收集所有商品信息！
- **📈 金融信息监控**：股票行情、基金净值、汇率变动...自动爬取金融网站，再也不用手动刷新查看了！
- **📰 内容聚合神器**：想做内容网站？想搞舆情分析？一键爬取新闻、微博、知乎内容，轻松汇总！
- **🔍 SEO优化大师**：想知道自己网站在搜索结果中的排名？想分析竞争对手的关键词策略？让爬虫帮你自动收集数据！
- **🎓 学术研究助手**：做网络分析研究？需要大量数据？在获得授权的情况下，轻松采集所需信息！

### 💡 创意应用场景

- **🎮 游戏数据分析**：爬取游戏排行榜、装备价格、玩家数据，帮助游戏玩家做出更好的决策！
- **🏠 房产市场监控**：自动监控房价变化、新楼盘信息，让你轻松掌握房产市场动态！
- **🎬 影视资源聚合**：爬取电影评分、剧集更新、影评，打造自己的影视数据库！
- **💼 招聘信息分析**：想了解就业市场需求？爬取各大招聘网站，分析热门岗位和薪资水平！

✨ **只有想不到，没有爬不到！**（当然要不合法合规哦！）

### 📝 爬虫界的「三大纪律八项注意」

- **🚫 别爬不该爬的**：一定要遵守网站的「robots.txt」规则和服务条款！就像进别人家门要先敲门一样！
- **🔒 未经授权不爬隐私内容**：涉及版权保护的内容，必须先获得许可！不然可能会吃官司！
- **⏱️ 别爬太猛**：控制爬取速度，给服务器留口气！爬得太狠可能会被起诉「网络攻击」！
- **👤 尊重隐私**：个人身份信息、敏感数据绝对不能乱爬乱存！这是违法行为！

### 💡 新手安全爬取小贴士

1. **先看规则**：爬之前先检查网站的使用条款和隐私政策
2. **爬慢一点**：新手建议把延迟设置得高一些（比如5-10秒）
3. **做好记录**：保留你的爬取目的和授权证明（如果有）
4. **及时停止**：如果网站明确表示禁止爬取，立刻停止！

⚖️ **法律责任提醒**：不当使用爬虫可能违反《网络安全法》等相关法律法规，所有责任由使用者自己承担！

✨ **做个有道德的爬虫工程师**：技术无罪，但要用于正道！

## 📚 深入学习 | 从爬虫小白到爬虫大师的进阶之路！ 📚

🔥 **想成为爬虫界的顶尖高手？** 这些秘籍帮你快速升级！

### 📖 必读宝典（新手到老手都适用！）

- **🥷 [反侦测战术手册](./docs/反侦测战术手册.md)** - 爬虫界的《孙子兵法》！教你如何识破并绕过各种反爬陷阱，就像特工训练手册一样刺激！
- **🔴 [红队行动指南](./docs/红队行动指南.md)** - 实战派攻略！针对各大网站的「爬取秘方」，让你轻松搞定那些难啃的网站！
- **🔵 [蓝队防御指南](./docs/蓝队防御指南.md)** - 了解网站是怎么防爬虫的，知己知彼才能百战百胜！

### 🚀 学习路径建议

1. **🎯 新手阶段**：先跑通基本示例，熟悉配置参数
2. **⚡ 进阶阶段**：阅读反侦测战术手册，学习基础反爬知识
3. **💪 高手阶段**：研究红队行动指南，尝试挑战复杂网站
4. **👑 大师阶段**：理解蓝队防御思路，自己设计爬取策略

📝 **学习小技巧**：遇到问题时，先看文档，再看日志，最后问社区！

## 🆓 零成本实战方案 | 白嫖党福利！不用花一分钱也能玩得转！ 🆓

🎉 **重磅好消息！** PhantomCrawler不仅功能强大，还能**完全零成本运行**！学生党、副业党、小团队的最爱！

### 💰 白嫖资源组合拳 | 羊毛党狂喜！

#### ☁️ 免费云服务套餐
- **GitHub Actions**：每月送你2000分钟免费运行时间！够你爬一个小型网站了！
- **Vercel/Netlify**：免费边缘函数，让你的爬虫全球加速！
- **无服务器架构**：用完即走，不需要维护服务器，省电费！

#### 🧪 免费代理大拼盘
- **自动筛选免费代理**：软件自带「代理筛子」，自动找出能用的免费代理！
- **Tor网络支持**：免费的匿名网络，IP换到手软！
- **云厂商试用券**：各大云厂商的免费试用VPS，不用白不用！

#### 🎭 无限指纹资源
- **社区共享指纹库**：大家一起贡献的真实浏览器指纹！
- **智能生成算法**：自动造出无限多的真实指纹，再也不怕被识别！
- **指纹评分系统**：确保生成的指纹足够「真」！

#### 💾 免费存储方案
- **GitHub LFS**：免费给你1GB空间存数据！
- **各大云盘免费额度**：AWS S3 5GB、阿里云OSS 10GB...都能用！
- **增量存储**：智能只存变化的数据，省空间！

### 🚀 一键部署教程 | 小白也能10分钟搞定！

**GitHub Actions自动化部署**（复制下面代码到`.github/workflows/crawler.yml`文件）：

# PhantomCrawler v3.0

```
██████╗ ██╗   ██╗███████╗██████╗ ██╗   ██╗████████╗██╗   ██╗███████╗
██╔══██╗╚██╗ ██╔╝██╔════╝██╔══██╗██║   ██║╚══██╔══╝██║   ██║██╔════╝
██████╔╝ ╚████╔╝ █████╗  ██████╔╝██║   ██║   ██║   ██║   ██║█████╗  
██╔══██╗  ╚██╔╝  ██╔══╝  ██╔══██╗██║   ██║   ██║   ██║   ██║██╔══╝  
██████╔╝   ██║   ███████╗██║  ██║╚██████╔╝   ██║   ╚██████╔╝███████╗
╚═════╝    ╚═╝   ╚══════╝╚═╝  ╚═╝ ╚═════╝    ╚═╝    ╚═════╝ ╚══════╝
```

## 🔍 项目概览

PhantomCrawler 是一个为高级安全研究人员设计的分布式爬虫框架，专注于规避现代Web应用防火墙(WAF)和高级反爬机制。

**核心能力矩阵：**
- ✅ 动态HTTP/TLS指纹伪装
- ✅ 人类化行为模式模拟
- ✅ 多层代理链与协议混淆
- ✅ 元认知自适应系统
- ✅ 分布式架构与弹性部署
- ✅ 七宗欲核心引擎（战术变体）

## 🛠️ 部署指南

### 环境准备

```bash
# 克隆仓库
git clone https://github.com/phantom-crawler/PhantomCrawler.git
cd PhantomCrawler

# 安装依赖
pip install -r requirements.txt

# 初始化Playwright（用于高级浏览器自动化）
playwright install
```

### 快速开始

```bash
# 使用main.py一键调用（推荐）
python main.py --url https://target-site.com --stealth

# 批量爬取模式
python main.py --list targets.txt --output-dir results --balanced

# 保存配置以便复用
python main.py --save-config stealth_config.json --stealth

# 使用自定义配置
python main.py --url https://target-site.com --config custom_config.json
```

## ⚙️ 命令行接口

```
usage: main.py [-h] (-u URL | -l LIST) [-c CONFIG] [-s SAVE_CONFIG]
               [-o OUTPUT] [-d OUTPUT_DIR] [--no-dynamic-ua] [--no-ja3]
               [--no-browser-fp] [--no-human-delay] [--no-gamma]
               [--no-request-chain] [--no-metacognition] [--timeout TIMEOUT]
               [--retries RETRIES] [--min-delay MIN_DELAY]
               [--max-delay MAX_DELAY] [--stealth] [--aggressive]
               [--balanced]
```

### 核心参数

| 参数 | 描述 | 战术价值 |
|------|------|----------|
| `-u, --url` | 目标URL | 单点渗透 |
| `-l, --list` | URL列表文件 | 批量情报收集 |
| `--stealth` | 最高级别隐匿模式 | 规避高级WAF |
| `--aggressive` | 激进爬取模式 | 快速数据获取 |
| `--balanced` | 平衡模式 | 通用场景 |

## 🚀 核心技术模块

### 1. 动态指纹伪装系统

```python
# 指纹欺骗技术栈
- User-Agent动态轮换
- JA3/TLS指纹模拟
- HTTP头行为特征匹配
- 浏览器环境仿真
```

### 2. 行为模拟引擎

实现真实用户浏览模式，包括：
- 基于伽马分布的时间间隔
- 会话角色模拟（研究员、购物者等）
- 鼠标移动与点击模式仿真
- 请求链污染技术

### 3. 元认知自适应系统

框架能够：
- 实时监控环境变化
- 自动调整爬取策略
- 从失败中学习
- 优化成功率

### 4. 七宗欲核心引擎

七种战术变体，针对不同场景优化：
- **暴食**：大规模数据采集
- **贪婪**：深度内容提取
- **懒惰**：资源高效爬取
- **愤怒**：突破访问限制
- **欲望**：精准情报获取
- **嫉妒**：模拟多用户行为
- **傲慢**：高级反反爬策略

## 🔒 安全与责任

**⚠️ 警告：** 本工具仅用于授权的安全测试和研究目的。使用本工具进行未授权访问可能违反法律法规。

```
# 责任声明
使用PhantomCrawler即表示您同意：
- 仅在获得明确授权的系统上使用
- 遵守所有适用的法律法规
- 承担因使用本工具产生的所有责任
```

## 📊 高级配置示例

```json
{
  "fingerprint": {
    "enable_dynamic_ua": true,
    "enable_ja3_simulation": true,
    "enable_browser_fingerprint_spoofing": true
  },
  "behavior_simulation": {
    "enable_human_delay": true,
    "use_gamma_distribution": true,
    "min_delay": 2.5,
    "max_delay": 7.8,
    "enable_request_chain_pollution": true
  },
  "metacognition": {
    "enabled": true
  },
  "request_timeout": 45,
  "max_retries": 5
}
```

## 📈 CI/CD自动化

```yaml
name: PhantomCrawler Ops

on:
  schedule:
    - cron: '0 0 * * *'
  workflow_dispatch:

jobs:
  opsec-crawl:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install dependencies
        run: pip install -r requirements.txt
      - name: Execute with stealth profile
        run: python main.py --config stealth_profile.json --list targets.txt --output-dir data/
      - name: Exfiltrate results
        uses: actions/upload-artifact@v3
        with:
          name: osint-data
          path: data/
```

## 🛡️ 蓝队防御参考

PhantomCrawler配备了完整的防御指南，帮助安全团队了解：
- 流量特征识别方法
- Sigma检测规则
- YARA规则样本
- 防御策略建议

详见 `docs/蓝队防御指南.md`

## 📚 文档与资源

- **反侦测战术手册**: `docs/反侦测战术手册.md`
- **红队行动指南**: `docs/红队行动指南.md`
- **蓝队防御指南**: `docs/蓝队防御指南.md`

## 🤝 贡献指南

我们欢迎安全研究人员的贡献：

1. Fork 本仓库
2. 创建功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 开启 Pull Request

---

**注意：** 本框架设计用于合法的安全研究和授权测试。开发者不对任何滥用行为负责。

© 2023 PhantomCrawler Project. All rights reserved.